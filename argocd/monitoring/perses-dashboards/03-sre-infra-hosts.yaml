apiVersion: perses.dev/v1alpha1
kind: PersesDashboard
metadata:
  name: 20-sre-infra-hosts
  namespace: dash0-system
spec:
  duration: 30m
  display:
    description: ""
    name: SRE - Infra - Hosts
  layouts:
    - kind: Grid
      spec:
        items:
          - content:
              $ref: "#/spec/panels/334bd2bb-c28e-42cc-aae4-dd90d6911c13"
            height: 6
            width: 8
            x: 0
            "y": 26
          - content:
              $ref: "#/spec/panels/334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy"
            height: 6
            width: 8
            x: 8
            "y": 26
          - content:
              $ref: "#/spec/panels/334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-copy"
            height: 6
            width: 8
            x: 16
            "y": 26
          - content:
              $ref: "#/spec/panels/334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-1"
            height: 6
            width: 8
            x: 0
            "y": 32
          - content:
              $ref: "#/spec/panels/334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-1-copy"
            height: 6
            width: 8
            x: 8
            "y": 32
          - content:
              $ref: "#/spec/panels/37790f49-f773-4ec2-90cb-4ca84099089f"
            height: 3
            width: 24
            x: 0
            "y": 23
          - content:
              $ref: "#/spec/panels/37790f49-f773-4ec2-90cb-4ca84099089f-copy"
            height: 3
            width: 24
            x: 0
            "y": 0
          - content:
              $ref: "#/spec/panels/334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-2"
            height: 7
            width: 24
            x: 0
            "y": 16
          - content:
              $ref: "#/spec/panels/37790f49-f773-4ec2-90cb-4ca84099089f-copy-1"
            height: 3
            width: 24
            x: 0
            "y": 38
          - content:
              $ref: "#/spec/panels/334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-3"
            height: 6
            width: 8
            x: 8
            "y": 41
          - content:
              $ref: "#/spec/panels/334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-3-copy"
            height: 6
            width: 8
            x: 0
            "y": 41
          - content:
              $ref: "#/spec/panels/37790f49-f773-4ec2-90cb-4ca84099089f-copy-copy"
            height: 3
            width: 24
            x: 0
            "y": 13
          - content:
              $ref: "#/spec/panels/334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-2-copy"
            height: 4
            width: 24
            x: 0
            "y": 9
          - content:
              $ref: "#/spec/panels/334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-2-copy-copy"
            height: 6
            width: 8
            x: 0
            "y": 3
          - content:
              $ref: "#/spec/panels/334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-2-copy-copy-copy"
            height: 6
            width: 8
            x: 8
            "y": 3
          - content:
              $ref: "#/spec/panels/334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-2-copy-copy-copy\
                -copy"
            height: 6
            width: 8
            x: 16
            "y": 3
          - content:
              $ref: "#/spec/panels/37790f49-f773-4ec2-90cb-4ca84099089f-copy-1-copy"
            height: 3
            width: 24
            x: 0
            "y": 47
          - content:
              $ref: "#/spec/panels/334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-copy-copy"
            height: 6
            width: 8
            x: 0
            "y": 50
          - content:
              $ref: "#/spec/panels/334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-copy-copy-copy"
            height: 6
            width: 8
            x: 8
            "y": 50
          - content:
              $ref: "#/spec/panels/334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-copy-copy-copy-c\
                opy"
            height: 6
            width: 8
            x: 16
            "y": 50
          - content:
              $ref: "#/spec/panels/334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-copy-copy-copy-c\
                opy-1"
            height: 6
            width: 8
            x: 0
            "y": 56
          - content:
              $ref: "#/spec/panels/334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-copy-copy-copy-c\
                opy-1-copy"
            height: 6
            width: 8
            x: 8
            "y": 56
          - content:
              $ref: "#/spec/panels/334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-copy-copy-copy-c\
                opy-1-copy-copy"
            height: 6
            width: 8
            x: 16
            "y": 56
          - content:
              $ref: "#/spec/panels/334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-copy-copy-copy-c\
                opy-1-copy-1"
            height: 6
            width: 8
            x: 0
            "y": 62
  panels:
    334bd2bb-c28e-42cc-aae4-dd90d6911c13:
      kind: Panel
      spec:
        display:
          description: ""
          name: Network connections
        plugin:
          kind: TimeSeriesChart
          spec:
            legend:
              mode: table
              position: right
              size: small
              values:
                - last
            thresholds: {}
            visual:
              areaOpacity: 0.55
              connectNulls: true
              display: line
              lineWidth: 1
              palette:
                mode: auto
              pointRadius: 2.5
              stack: none
            yAxis:
              format:
                decimalPlaces: 0
                enforceMinimumFractionDigits: false
                shortValues: true
                signDisplay: auto
                unit: decimal
              min: 0
              show: true
        queries:
          - kind: TimeSeriesQuery
            spec:
              plugin:
                kind: PrometheusTimeSeriesQuery
                spec:
                  query: sum by(host_name, cloud_region) (system_network_connections{$host_id})
                  seriesNameFormat: "{{host_name}} ({{cloud_region}})"
    334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy:
      kind: Panel
      spec:
        display:
          description: ""
          name: Network packets total
        plugin:
          kind: TimeSeriesChart
          spec:
            legend:
              mode: table
              position: right
              size: small
              values:
                - last
            thresholds: {}
            visual:
              areaOpacity: 0.55
              connectNulls: true
              display: line
              lineWidth: 1
              palette:
                mode: auto
              pointRadius: 2.5
              stack: none
            yAxis:
              format:
                decimalPlaces: 2
                enforceMinimumFractionDigits: false
                shortValues: true
                signDisplay: auto
                unit: decimal
              min: 0
              show: true
        queries:
          - kind: TimeSeriesQuery
            spec:
              plugin:
                kind: PrometheusTimeSeriesQuery
                spec:
                  query: sum by(host_name, cloud_region)
                    (rate(system_network_packets_total{$host_id}[$__rate_interval]))
                  seriesNameFormat: "{{host_name}} ({{cloud_region}})"
    334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-1:
      kind: Panel
      spec:
        display:
          description: ""
          name: Network Errors Total
        plugin:
          kind: TimeSeriesChart
          spec:
            legend:
              mode: table
              position: right
              size: small
              values:
                - last
            thresholds: {}
            visual:
              areaOpacity: 0.55
              connectNulls: true
              display: line
              lineWidth: 1
              palette:
                mode: auto
              pointRadius: 2.5
              stack: none
            yAxis:
              format:
                decimalPlaces: 0
                enforceMinimumFractionDigits: false
                shortValues: true
                signDisplay: auto
                unit: decimal
              min: 0
              show: true
        queries:
          - kind: TimeSeriesQuery
            spec:
              plugin:
                kind: PrometheusTimeSeriesQuery
                spec:
                  query: sum by (host_name, cloud_region)
                    (rate(system_network_errors_total{$host_id}[$__rate_interval]))
                  seriesNameFormat: "{{host_name}} ({{cloud_region}})"
    334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-1-copy:
      kind: Panel
      spec:
        display:
          description: ""
          name: Network Errors Total
        plugin:
          kind: TimeSeriesChart
          spec:
            legend:
              mode: table
              position: right
              size: small
              values:
                - last
            thresholds: {}
            visual:
              areaOpacity: 0.55
              connectNulls: true
              display: line
              lineWidth: 1
              palette:
                mode: auto
              pointRadius: 2.5
              stack: none
            yAxis:
              format:
                decimalPlaces: 0
                enforceMinimumFractionDigits: false
                shortValues: true
                signDisplay: auto
                unit: decimal
              min: 0
              show: true
        queries:
          - kind: TimeSeriesQuery
            spec:
              plugin:
                kind: PrometheusTimeSeriesQuery
                spec:
                  query: sum by (host_name, cloud_region)
                    (rate(system_network_dropped_total{$host_id}[$__rate_interval]))
                  seriesNameFormat: "{{host_name}} ({{cloud_region}})"
    334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-2:
      kind: Panel
      spec:
        display:
          description: ""
          name: Memory Usage in Bytes
        plugin:
          kind: TimeSeriesChart
          spec:
            legend:
              mode: table
              position: right
              size: small
              values:
                - last
            thresholds: {}
            visual:
              areaOpacity: 0.55
              connectNulls: true
              display: line
              lineWidth: 1
              palette:
                mode: auto
              pointRadius: 2.5
              stack: none
            yAxis:
              format:
                decimalPlaces: 0
                enforceMinimumFractionDigits: false
                shortValues: true
                signDisplay: auto
                unit: bytes
              min: 0
              show: true
        queries:
          - kind: TimeSeriesQuery
            spec:
              plugin:
                kind: PrometheusTimeSeriesQuery
                spec:
                  query: sum by(host_name, cloud_region) (system_memory_usage_bytes{$host_id})
                  seriesNameFormat: "{{host_name}} ({{cloud_region}})"
    334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-2-copy:
      kind: Panel
      spec:
        display:
          description: ""
          name: CPU Count
        plugin:
          kind: TimeSeriesTable
          spec:
            format:
              decimalPlaces: 2
              enforceMinimumFractionDigits: false
              shortValues: false
              signDisplay: auto
              unit: decimal
        queries:
          - kind: TimeSeriesQuery
            spec:
              plugin:
                kind: PrometheusTimeSeriesQuery
                spec:
                  query: sum by (host_name, cloud_region) (system_cpu_count{$host_id})
                  seriesNameFormat: "{{host_name}} ({{cloud_region}})"
    334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-2-copy-copy:
      kind: Panel
      spec:
        display:
          description: ""
          name: CPU Load 1m
        plugin:
          kind: TimeSeriesTable
          spec:
            format:
              decimalPlaces: 2
              enforceMinimumFractionDigits: false
              shortValues: false
              signDisplay: auto
              unit: decimal
        queries:
          - kind: TimeSeriesQuery
            spec:
              plugin:
                kind: PrometheusTimeSeriesQuery
                spec:
                  query: sum by (host_name, cloud_region) (system_cpu_load_average_1m{$host_id})
                  seriesNameFormat: "{{host_name}} ({{cloud_region}})"
    334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-2-copy-copy-copy:
      kind: Panel
      spec:
        display:
          description: ""
          name: CPU Load 5m
        plugin:
          kind: TimeSeriesTable
          spec:
            format:
              decimalPlaces: 2
              enforceMinimumFractionDigits: false
              shortValues: false
              signDisplay: auto
              unit: decimal
        queries:
          - kind: TimeSeriesQuery
            spec:
              plugin:
                kind: PrometheusTimeSeriesQuery
                spec:
                  query: sum by (host_name, cloud_region) (system_cpu_load_average_5m{$host_id})
                  seriesNameFormat: "{{host_name}} ({{cloud_region}})"
    334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-2-copy-copy-copy-copy:
      kind: Panel
      spec:
        display:
          description: ""
          name: CPU Load 15m
        plugin:
          kind: TimeSeriesTable
          spec:
            format:
              decimalPlaces: 2
              enforceMinimumFractionDigits: false
              shortValues: false
              signDisplay: auto
              unit: decimal
        queries:
          - kind: TimeSeriesQuery
            spec:
              plugin:
                kind: PrometheusTimeSeriesQuery
                spec:
                  query: sum by (host_name, cloud_region) (system_cpu_load_average_15m{$host_id})
                  seriesNameFormat: "{{host_name}} ({{cloud_region}})"
    334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-3:
      kind: Panel
      spec:
        display:
          description: ""
          name: iNodes Usage
        plugin:
          kind: TimeSeriesChart
          spec:
            legend:
              mode: table
              position: right
              size: small
              values:
                - last
            thresholds: {}
            visual:
              areaOpacity: 0.55
              connectNulls: true
              display: line
              lineWidth: 1
              palette:
                mode: auto
              pointRadius: 2.5
              stack: none
            yAxis:
              format:
                decimalPlaces: 0
                enforceMinimumFractionDigits: false
                shortValues: true
                signDisplay: auto
                unit: decimal
              min: 0
              show: true
        queries:
          - kind: TimeSeriesQuery
            spec:
              plugin:
                kind: PrometheusTimeSeriesQuery
                spec:
                  query: sum by(host_name, cloud_region)
                    (system_filesystem_inodes_usage{$host_id})
                  seriesNameFormat: "{{host_name}} ({{cloud_region}})"
    334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-3-copy:
      kind: Panel
      spec:
        display:
          description: ""
          name: Usage
        plugin:
          kind: TimeSeriesChart
          spec:
            legend:
              mode: table
              position: right
              size: small
              values:
                - last
            thresholds: {}
            visual:
              areaOpacity: 0.55
              connectNulls: true
              display: line
              lineWidth: 1
              palette:
                mode: auto
              pointRadius: 2.5
              stack: none
            yAxis:
              format:
                decimalPlaces: 0
                enforceMinimumFractionDigits: false
                shortValues: true
                signDisplay: auto
                unit: bytes
              min: 0
              show: true
        queries:
          - kind: TimeSeriesQuery
            spec:
              plugin:
                kind: PrometheusTimeSeriesQuery
                spec:
                  query: sum by(host_name, cloud_region) (system_filesystem_usage_bytes{$host_id})
                  seriesNameFormat: "{{host_name}} ({{cloud_region}})"
    334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-copy:
      kind: Panel
      spec:
        display:
          description: ""
          name: Network IO Bytes
        plugin:
          kind: TimeSeriesChart
          spec:
            legend:
              mode: table
              position: right
              size: small
              values:
                - last
            thresholds: {}
            visual:
              areaOpacity: 0.55
              connectNulls: true
              display: line
              lineWidth: 1
              palette:
                mode: auto
              pointRadius: 2.5
              stack: none
            yAxis:
              format:
                decimalPlaces: 0
                enforceMinimumFractionDigits: false
                shortValues: true
                signDisplay: auto
                unit: bytes
              min: 0
              show: true
        queries:
          - kind: TimeSeriesQuery
            spec:
              plugin:
                kind: PrometheusTimeSeriesQuery
                spec:
                  query: sum by (host_name, cloud_region)
                    (rate(system_network_io_bytes_total{$host_id}[$__rate_interval]))
                  seriesNameFormat: "{{host_name}} ({{cloud_region}})"
    334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-copy-copy:
      kind: Panel
      spec:
        display:
          description: ""
          name: Disk IO Bytes
        plugin:
          kind: TimeSeriesChart
          spec:
            legend:
              mode: table
              position: right
              size: small
              values:
                - last
            thresholds: {}
            visual:
              areaOpacity: 0.55
              connectNulls: true
              display: line
              lineWidth: 1
              palette:
                mode: auto
              pointRadius: 2.5
              stack: none
            yAxis:
              format:
                decimalPlaces: 0
                enforceMinimumFractionDigits: false
                shortValues: true
                signDisplay: auto
                unit: bytes
              min: 0
              show: true
        queries:
          - kind: TimeSeriesQuery
            spec:
              plugin:
                kind: PrometheusTimeSeriesQuery
                spec:
                  query: sum by (host_name, cloud_region)
                    (rate(system_disk_io_bytes_total{$host_id}[$__rate_interval]))
                  seriesNameFormat: "{{host_name}} ({{cloud_region}})"
    334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-copy-copy-copy:
      kind: Panel
      spec:
        display:
          description: ""
          name: Disk IO Time Seconds
        plugin:
          kind: TimeSeriesChart
          spec:
            legend:
              mode: table
              position: right
              size: small
              values:
                - last
            thresholds: {}
            visual:
              areaOpacity: 0.55
              connectNulls: true
              display: line
              lineWidth: 1
              palette:
                mode: auto
              pointRadius: 2.5
              stack: none
            yAxis:
              format:
                decimalPlaces: 0
                enforceMinimumFractionDigits: false
                shortValues: true
                signDisplay: auto
                unit: seconds
              min: 0
              show: true
        queries:
          - kind: TimeSeriesQuery
            spec:
              plugin:
                kind: PrometheusTimeSeriesQuery
                spec:
                  query: sum by (host_name, cloud_region)
                    (rate(system_disk_io_time_seconds_total{$host_id}[$__rate_interval]))
                  seriesNameFormat: "{{host_name}} ({{cloud_region}})"
    334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-copy-copy-copy-copy:
      kind: Panel
      spec:
        display:
          description: ""
          name: Disk Merged
        plugin:
          kind: TimeSeriesChart
          spec:
            legend:
              mode: table
              position: right
              size: small
              values:
                - last
            thresholds: {}
            visual:
              areaOpacity: 0.55
              connectNulls: true
              display: line
              lineWidth: 1
              palette:
                mode: auto
              pointRadius: 2.5
              stack: none
            yAxis:
              format:
                decimalPlaces: 0
                enforceMinimumFractionDigits: false
                shortValues: true
                signDisplay: auto
                unit: seconds
              min: 0
              show: true
        queries:
          - kind: TimeSeriesQuery
            spec:
              plugin:
                kind: PrometheusTimeSeriesQuery
                spec:
                  query: sum by (host_name, cloud_region)
                    (rate(system_disk_merged_total{$host_id}[$__rate_interval]))
                  seriesNameFormat: "{{host_name}} ({{cloud_region}})"
    334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-copy-copy-copy-copy-1:
      kind: Panel
      spec:
        display:
          description: ""
          name: Disk Operation Time Seconds
        plugin:
          kind: TimeSeriesChart
          spec:
            legend:
              mode: table
              position: right
              size: small
              values:
                - last
            thresholds: {}
            visual:
              areaOpacity: 0.55
              connectNulls: true
              display: line
              lineWidth: 1
              palette:
                mode: auto
              pointRadius: 2.5
              stack: none
            yAxis:
              format:
                decimalPlaces: 0
                enforceMinimumFractionDigits: false
                shortValues: true
                signDisplay: auto
                unit: seconds
              min: 0
              show: true
        queries:
          - kind: TimeSeriesQuery
            spec:
              plugin:
                kind: PrometheusTimeSeriesQuery
                spec:
                  query: sum by (host_name, cloud_region)
                    (rate(system_disk_operation_time_seconds_total{$host_id}[$__rate_interval]))
                  seriesNameFormat: "{{host_name}} ({{cloud_region}})"
    334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-copy-copy-copy-copy-1-copy:
      kind: Panel
      spec:
        display:
          description: ""
          name: Disk Operations
        plugin:
          kind: TimeSeriesChart
          spec:
            legend:
              mode: table
              position: right
              size: small
              values:
                - last
            thresholds: {}
            visual:
              areaOpacity: 0.55
              connectNulls: true
              display: line
              lineWidth: 1
              palette:
                mode: auto
              pointRadius: 2.5
              stack: none
            yAxis:
              format:
                decimalPlaces: 0
                enforceMinimumFractionDigits: false
                shortValues: true
                signDisplay: auto
                unit: decimal
              min: 0
              show: true
        queries:
          - kind: TimeSeriesQuery
            spec:
              plugin:
                kind: PrometheusTimeSeriesQuery
                spec:
                  query: sum by (host_name, cloud_region)
                    (rate(system_disk_operations_total{$host_id}[$__rate_interval]))
                  seriesNameFormat: "{{host_name}} ({{cloud_region}})"
    334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-copy-copy-copy-copy-1-copy-1:
      kind: Panel
      spec:
        display:
          description: ""
          name: Time disk spent activated multiplied by the queue length
        plugin:
          kind: TimeSeriesChart
          spec:
            legend:
              mode: table
              position: right
              size: small
              values:
                - last
            thresholds: {}
            visual:
              areaOpacity: 0.55
              connectNulls: true
              display: line
              lineWidth: 1
              palette:
                mode: auto
              pointRadius: 2.5
              stack: none
            yAxis:
              format:
                decimalPlaces: 0
                enforceMinimumFractionDigits: false
                shortValues: true
                signDisplay: auto
                unit: seconds
              min: 0
              show: true
        queries:
          - kind: TimeSeriesQuery
            spec:
              plugin:
                kind: PrometheusTimeSeriesQuery
                spec:
                  query: sum by (host_name, cloud_region)
                    (rate(system_disk_weighted_io_time_seconds_total{$host_id}[$__rate_interval]))
                  seriesNameFormat: "{{host_name}} ({{cloud_region}})"
    334bd2bb-c28e-42cc-aae4-dd90d6911c13-copy-copy-copy-copy-copy-1-copy-copy:
      kind: Panel
      spec:
        display:
          description: ""
          name: Disk Operations Pending
        plugin:
          kind: TimeSeriesChart
          spec:
            legend:
              mode: table
              position: right
              size: small
              values:
                - last
            thresholds: {}
            visual:
              areaOpacity: 0.55
              connectNulls: true
              display: line
              lineWidth: 1
              palette:
                mode: auto
              pointRadius: 2.5
              stack: none
            yAxis:
              format:
                decimalPlaces: 0
                enforceMinimumFractionDigits: false
                shortValues: true
                signDisplay: auto
                unit: decimal
              min: 0
              show: true
        queries:
          - kind: TimeSeriesQuery
            spec:
              plugin:
                kind: PrometheusTimeSeriesQuery
                spec:
                  query: sum by (host_name, cloud_region)
                    (system_disk_pending_operations{$host_id})
                  seriesNameFormat: "{{host_name}} ({{cloud_region}})"
    37790f49-f773-4ec2-90cb-4ca84099089f:
      kind: Panel
      spec:
        display:
          description: ""
          name: Description
        plugin:
          kind: Markdown
          spec:
            text: "## Network"
    37790f49-f773-4ec2-90cb-4ca84099089f-copy:
      kind: Panel
      spec:
        display:
          description: ""
          name: Description
        plugin:
          kind: Markdown
          spec:
            text: "## CPU"
    37790f49-f773-4ec2-90cb-4ca84099089f-copy-1:
      kind: Panel
      spec:
        display:
          description: ""
          name: Description
        plugin:
          kind: Markdown
          spec:
            text: "## Filesystem"
    37790f49-f773-4ec2-90cb-4ca84099089f-copy-1-copy:
      kind: Panel
      spec:
        display:
          description: ""
          name: Description
        plugin:
          kind: Markdown
          spec:
            text: "## Disk"
    37790f49-f773-4ec2-90cb-4ca84099089f-copy-copy:
      kind: Panel
      spec:
        display:
          description: ""
          name: Description
        plugin:
          kind: Markdown
          spec:
            text: "## Memory"
  variables:
    - kind: Dash0FilterVariable
      spec:
        attributeKey: host_id
        capturingRegexp: ""
        display:
          description: ""
          hidden: false
          name: ""
        name: host_id
        operator: is_set
        values: []
